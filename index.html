<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
    <title>2st å¹´åº¦æ€»ç»“</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* --- åŸºç¡€è®¾ç½® --- */
        html, body {
            position: relative;
            height: 100%;
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: #faf0f0; 
            color: #333;
            overflow: hidden;
        }

        /* --- Loading é®ç½©å±‚ --- */
        #loading-mask {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: #faf0f0;
            z-index: 9999;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: opacity 0.8s;
        }
        .loading-heart {
            font-size: 3rem;
            color: #ff6b81;
            animation: heartBeat 1.2s infinite;
        }
        .loading-text {
            margin-top: 20px;
            font-size: 1.1rem;
            color: #666;
            letter-spacing: 2px;
        }
        .progress-bar {
            width: 200px;
            height: 6px;
            background: #eee;
            border-radius: 3px;
            margin-top: 15px;
            overflow: hidden;
        }
        .progress-inner {
            height: 100%;
            width: 0%;
            background: #ff6b81;
            transition: width 0.2s;
        }

        /* èƒŒæ™¯è£…é¥°åœ†ç‚¹ */
        .bg-circle {
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 182, 193, 0.4);
            z-index: 0;
            pointer-events: none;
        }
        .c1 { width: 200px; height: 200px; top: -50px; left: -50px; }
        .c2 { width: 300px; height: 300px; bottom: -80px; right: -80px; background: rgba(173, 216, 230, 0.3); }

        .swiper {
            width: 100%;
            height: 100%;
            z-index: 1;
            opacity: 0; /* åˆå§‹éšè—ï¼ŒåŠ è½½å®Œæ˜¾ç¤º */
            transition: opacity 1s;
        }

        .swiper-slide {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 40px;
            box-sizing: border-box;
            background: transparent;
            overflow: hidden;
        }

        .card {
            background: rgba(255, 255, 255, 0.9);
            padding: 30px 20px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
            width: 100%;
            max-width: 340px;
            margin-bottom: 20px;
            position: relative;
        }

        .photo-frame {
            width: 100%;
            border-radius: 12px;
            margin: 15px 0;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            border: 3px solid #fff;
            object-fit: cover;
        }
        
        .long-photo {
            max-height: 300px;
            object-fit: contain;
            background: #f5f5f5;
        }

        h1 { font-size: 2.5rem; color: #ff6b81; margin-bottom: 10px; }
        h2 { font-size: 1.8rem; color: #444; margin: 10px 0; }
        p { font-size: 1.1rem; line-height: 1.6; margin: 8px 0; color: #666; }
        .highlight { color: #ff6b81; font-weight: bold; font-size: 1.2rem; }
        .icon-box { font-size: 3rem; color: #ff6b81; margin-bottom: 15px; }
        
        .arrow-up {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 30px;
            height: 30px;
            z-index: 10;
            animation: moveUp 1.5s infinite;
            opacity: 0.6;
            pointer-events: none;
        }
        
        @keyframes moveUp {
            0% { transform: translate(-50%, 0); opacity: 0; }
            50% { opacity: 1; }
            100% { transform: translate(-50%, -20px); opacity: 0; }
        }

        .swiper-slide .ani {
            visibility: hidden;
        }

        /* --- çˆ±å¿ƒç…§ç‰‡å¢™æ ·å¼ --- */
        #heart-gallery-container {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            transform-style: preserve-3d;
        }

        .heart-photo {
            position: absolute;
            width: 40px; height: 40px;
            object-fit: cover;
            border-radius: 6px;
            border: 2px solid #fff;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: all 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            opacity: 0;
            left: 50%; top: 50%;
            margin-left: -20px; margin-top: -20px;
            transform: scale(0.1) rotate(0deg);
            z-index: 0;
            will-change: transform, opacity;
        }

        .heart-photo.active {
            opacity: 1;
            z-index: 1;
        }

        .final-text {
            position: relative;
            z-index: 10;
            text-shadow: 0 2px 4px rgba(255, 255, 255, 0.8);
            visibility: hidden; 
        }
    </style>
</head>
<body>

<div id="loading-mask">
    <div class="loading-heart"><i class="fas fa-heart"></i></div>
    <div class="loading-text">åŠ è½½å›å¿†ä¸­... <span id="percent">0%</span></div>
    <div class="progress-bar">
        <div class="progress-inner" id="progress-inner"></div>
    </div>
</div>

<div class="bg-circle c1"></div>
<div class="bg-circle c2"></div>

<div style="position: absolute; top: 20px; right: 20px; z-index: 100; color: #555; opacity: 0.7;">
    <i class="fas fa-music fa-spin" style="font-size: 24px;"></i>
</div>

<div class="swiper mySwiper">
    <div class="swiper-wrapper">

        <div class="swiper-slide">
            <div class="card ani" data-ani="animate__fadeInUp">
                <div class="icon-box"><i class="fas fa-heart"></i></div>
                <h1>2st</h1>
                <h2>â¤ï¸å¹´åº¦æ€»ç»“â¤ï¸</h2>
                <p>2024 - 2025</p>
                <p style="font-size: 0.8rem; color: #999;">Designed for Us</p>
            </div>
        </div>

        <div class="swiper-slide">
            <div class="card ani" data-ani="animate__zoomIn">
                <h2 style="letter-spacing: 5px;">å¤§äº‹è®°</h2>
                <div style="width: 50px; height: 3px; background: #ff6b81; margin: 10px auto;"></div>
                <p>Review of the Year</p>
            </div>
        </div>

        <div class="swiper-slide">
            <div class="card ani" data-ani="animate__fadeInRight">
                <div class="icon-box"><i class="fas fa-map-marked-alt"></i></div>
                <p>è¿™ä¸€å¹´ï¼Œä½ ä»¬çš„è¶³è¿¹éå¸ƒ <span class="highlight">7ä¸ªåŸå¸‚</span></p>
                <p style="font-size: 0.9rem;">æˆéƒ½ï¼Œé‡åº†ï¼Œæ²³åŒ—é˜¿é‚£äºšï¼Œ<br>ä¸Šæµ·ï¼ŒåŒ—äº¬ï¼Œè…¾å†²ï¼ŒèŠ’å¸‚</p>
                <hr style="border:0; border-top:1px dashed #ddd; margin: 15px 0;">
                <p>å…¶ä¸­ <span class="highlight">æˆéƒ½</span> åˆ°è¾¾è¿‡ä¸¤æ¬¡ï¼Œ<br>ä½ ä»¬ä¸€å®šå¾ˆå–œæ¬¢è¿™é‡Œå§</p>
                <p style="font-size: 0.9rem; margin-top: 15px; color: #888;">Zmxçš„æ›¹æ“å‡ºè¡Œå·²é»‘å¡ <i class="fas fa-taxi"></i><br>å®ƒä¸€å®šä¸ºä½ ä»¬çš„å‡ºè¡Œä¿é©¾æŠ¤èˆªäº†å¾ˆä¹…</p>
            </div>
        </div>

        <div class="swiper-slide">
            <div class="card ani" data-ani="animate__fadeInLeft">
                <div class="icon-box"><i class="fas fa-store"></i></div>
                <p>è¿™ä¸€å¹´ï¼Œä½ ä»¬ä¸€å…±æ‰“å¡äº†</p>
                <h2 class="highlight" style="font-size: 3rem; margin: 0;">104</h2>
                <p>å®¶åº—é“º</p>
                <div style="margin-top: 20px; text-align: left; background: #fff5f5; padding: 15px; border-radius: 10px;">
                    <p><i class="fas fa-crown" style="color: gold;"></i> <strong>Wazæœ€å–œæ¬¢çš„æ˜¯ï¼š</strong><br>ä¿å±±é‡‘é¸¡é“œé”…è‹‘(è…¾å†²åº—)</p>
                    <p style="margin-top: 10px;"><i class="fas fa-question-circle" style="color: #ff6b81;"></i> <strong>Zmxæœ€å–œæ¬¢çš„æ˜¯å“ªå®¶åº—å‘¢ï¼Ÿ</strong></p>
                </div>
            </div>
        </div>

        <div class="swiper-slide">
            <div class="card ani" data-ani="animate__fadeInUp">
                <p><i class="fas fa-bomb"></i> Wazè§‰å¾—æœ€éš¾åƒçš„æ˜¯ï¼š</p>
                <p class="highlight" style="font-size: 1rem;">é˜¿é‚£äºšé±¼å¸‚ Fish Market(å‰§åœºåº—)</p>
                <hr style="border:0; border-top:1px dashed #ddd; margin: 20px 0;">
                
                <p class="highlight">è…¾å†² æ¢“æºå†œå®¶ä¹</p>
                <p><i class="fas fa-star" style="color: gold;"></i> <strong>ä¸€è‡´è¢«å¥‰ä¸ºç™¾å¹´éš¾é‡çš„ç¾å‘³ï¼š</strong></p>
            </div>
        </div>

        <div class="swiper-slide">
            <div class="card ani" data-ani="animate__fadeIn">
                <p>æœ€è½»æ¾çš„ä¸€é¡¿é¥­æ˜¯</p>
                <p class="highlight">é”¦åºœå›­Â·æ–°å°å·èœ(åˆç”Ÿæ±‡åº—)</p>
                <img src="IMG_6504.jpeg" class="photo-frame" alt="é”¦åºœå›­ç¾é£Ÿ">
                <p style="font-size: 0.9rem;">å¤æ—¦é¢è¯•æ’åœ¨å€’æ•°ç¬¬äºŒä¸ª<br>èµ¶åœ¨é—­åº—å‰æ‰åƒä¸Š<br>ä¹Ÿæ˜¯ååˆ†ç¾å‘³çš„ä¸€é¡¿äº†</p>
            </div>
        </div>

        <div class="swiper-slide">
            <div class="card ani" data-ani="animate__fadeInUp">
                <p>è¿™ä¸€å¹´ï¼Œ</p>
                <p>ä½ ä»¬åœ¨ <span class="highlight">é‡‘è‰²å°è±¡</span> æ²‰æµ¸å¼ç‚«é¥­</p>
                <img src="IMG_1936.jpeg" class="photo-frame" alt="è„±å£ç§€">
                <p>çœ‹äº†ä¸¤åœºçº¿ä¸‹è„±å£ç§€</p>
                <img src="IMG_5518.jpeg" class="photo-frame" alt="è„±å£ç§€">
            </div>
        </div>

        <div class="swiper-slide">
            <div class="card ani" data-ani="animate__fadeInDown">
                <p>è¿™ä¸€å¹´ï¼Œ</p>
                <div class="icon-box"><i class="fas fa-flask"></i> <i class="fas fa-microphone-alt"></i></div>
                <p>ä½ ä»¬ä¸€èµ·åˆ¶ä½œäº†é¦™æ°´</p>
                <img src="IMG_5621.jpeg" class="photo-frame" alt="çº¯k">
            </div>
        </div>
        <div class="swiper-slide">
            <div class="card ani" data-ani="animate__fadeInDown">
                <p>åœ¨zmxçš„é¼“åŠ±ä¸‹<br>wazç»ˆäºå‹‡æ•¢å”±äº†ktvğŸ‘</p>
                <p class="highlight">çº¯kçœŸæ˜¯ç¾å‘³ ğŸ˜‹</p>
                <img src="IMG_7937.jpeg" class="photo-frame" alt="çº¯k">
            </div>
        </div>

        <div class="swiper-slide">
            <div class="card ani" data-ani="animate__flipInX">
                <p>è¿™ä¸€å¹´ä½ ä»¬è´­ä¹°äº†ç¬¬ä¸€ä¸ªæ¡Œæ¸¸</p>
                <h2 class="highlight">ç’€ç’¨å®çŸ³</h2>
                <p>Wazå¤§æ€å››æ–¹</p>
                <img src="IMG_4600.jpeg" class="photo-frame" alt="ç’€ç’¨å®çŸ³">
            </div>
        </div>

        <div class="swiper-slide">
            <div class="card ani" data-ani="animate__shakeX">
                <div class="icon-box"><i class="fas fa-cloud-rain" style="color: #aab;"></i></div>
                <p>æ®ä¸å®Œå…¨ç»Ÿè®¡ï¼Œè¿™ä¸€å¹´ä½ ä»¬åµæ¶äº† <span class="highlight">7æ¬¡</span></p>
                <p style="font-size: 0.9rem;">ä½ ä»¬å¾®ä¿¡æœ€é•¿æœªå¯¹è¯æ—¶é—´ä¸º <br><strong>8å°æ—¶</strong>ï¼ˆå¼‚åœ°æœŸé—´ï¼‰</p>
                <hr style="border:0; border-top:1px solid #eee; margin: 20px 0;">
                <p>å“ªæ€•åµå¾—æ˜å¤©é»‘åœ°</p>
                <p class="highlight">ä½ ä»¬è¿˜æ˜¯æ”¾ä¸ä¸‹å¯¹æ–¹ <i class="fas fa-heart"></i></p>
            </div>
        </div>

        <div class="swiper-slide">
            <div class="card ani" data-ani="animate__fadeInUp">
                <div class="icon-box"><i class="fab fa-weixin" style="color: #07c160;"></i></div>
                <p>è¿™ä¸€å¹´ï¼Œä½ ä»¬å¾®ä¿¡æœ€çˆ±è¯´çš„è¯æ˜¯ï¼š</p>
                <div style="text-align: left; margin-top: 20px;">
                    <p><i class="fas fa-heart" style="color:red;"></i> çˆ±ä½  <strong>1132æ¬¡</strong></p>
                    <p><i class="fas fa-kiss-wink-heart" style="color:pink;"></i> äº²äº² <strong>987æ¬¡</strong></p>
                    <p><i class="fas fa-sad-tear" style="color:blue;"></i> æƒ³ä½  <strong>243æ¬¡</strong></p>
                </div>
            </div>
        </div>

        <div class="swiper-slide">
            <div class="card ani" data-ani="animate__fadeIn">
                <div class="icon-box"><i class="fas fa-graduation-cap"></i></div>
                <p>ä½ ä»¬åœ¨è¿™ä¸€å¹´ä¸€èµ·è¿æ¥äº†</p>
                <h2 class="highlight">â€œä¿ç ”â€</h2>
                <p>è‡ªæˆ‘æ€€ç–‘æ—¶çš„ç›¸äº’æ‰¶æŒ</p>
                <p>æ˜¯æœ€çè´µçš„å›å¿†å§</p>
            </div>
        </div>

        <div class="swiper-slide">
            <div class="card ani" data-ani="animate__zoomIn">
                <h2 style="font-family: serif; font-style: italic;">Little Things</h2>
                <p>å°äº‹é›†</p>
                <div style="font-size: 2rem; margin-top: 10px;">âœ¨</div>
            </div>
        </div>

        <div class="swiper-slide">
            <div class="card ani" data-ani="animate__fadeInUp">
                <p style="color: #999; font-size: 0.9rem;">2024å¹´12æœˆ25æ—¥</p>
                <p>è¿™æ˜¯ä½ ä»¬å¼€å¯ç¬¬äºŒå¹´çš„ç¬¬ä¸€å¤©</p>
                <p>è¿™å¤©wazè¢«è‹±è¯­æ¼”è®²æœŸæœ«æŠ˜ç£¨ç€</p>
                <p>ä½ å¸¦æ¥äº†å°è›‹ç³•ï¼Œæ¤°æ±ç´«ç±³éœ²å’Œæ©˜å­</p>
                <img src="IMG_1417.jpeg" class="photo-frame" alt="è›‹ç³•ä¸æ©˜å­">
                 <p class="highlight">å¾ˆå¥½åœ°æŠšæ…°äº†å¥¹ğŸ«¶</p>
            </div>
        </div>

        <div class="swiper-slide">
            <div class="card ani" data-ani="animate__fadeIn">
                <p style="color: #999; font-size: 0.9rem;">2025.1.7</p>
                <p>è·ç¦»è†ç›–è€ƒè¯•è¿˜æœ‰ä¸¤å¤©</p>
                <img src="IMG_1687.jpeg" class="photo-frame" style="max-height: 400px; width: auto;" alt="è‡ªæ‹">
            </div>
        </div>

        <div class="swiper-slide">
            <div class="card ani" data-ani="animate__fadeInRight">
                <p style="color: #999; font-size: 0.9rem;">2025.6.15</p>
                <p>è¿™æ˜¯å‡†å¤‡æœŸæœ«+æµ·æŠ•å¤ä»¤è¥çš„æ—¶å€™</p>
                <p>å›¾ä¹¦é¦†ç„¦å¤´çƒ‚é¢æ—¶</p>
                <p>çœ‹åˆ°çš„ä¸€æ¡å¯çˆ±æ¶ˆæ¯</p>
                <img src="IMG_5014.jpeg" class="photo-frame" alt="æ‰‹è¡¨æ¶ˆæ¯">
            </div>
        </div>

        <div class="swiper-slide">
            <div class="card ani" data-ani="animate__fadeInLeft">
                <p>ä»¥åŠé—­é¦†éŸ³ä¹å“èµ·åçœ‹åˆ°çš„èº«å½±</p>
                <img src="IMG_5017.jpeg" class="photo-frame" alt="å¤œæ™šèº«å½±">
                <p class="highlight">åŸæ¥</p>
                <p class="highlight">ç–²æƒ«ç»ˆç©¶æ˜¯å¯ä»¥è¢«å‰Šå¼±çš„</p>
            </div>
        </div>

        <div class="swiper-slide">
            <div class="card ani" data-ani="animate__fadeInUp">
                <div class="icon-box"><i class="fas fa-map-signs"></i></div>
                <p>Wazæ˜¯å¤§ä¼—ç‚¹è¯„å°çº¢ä¹¦æºç¨‹<br><strong>é‡åº¦ç”¨æˆ·</strong></p>
                <p>ä»åˆä¸­å¼€å§‹</p>
                <p>å¥¹ä¸€ç›´ä»¥æ¥ç†æ‰€åº”å½“åœ°æ‰¿æ‹…ç€æ”»ç•¥ä»»åŠ¡</p>
            </div>
        </div>

        <div class="swiper-slide">
            <div class="card ani" data-ani="animate__fadeIn">
                <p>ä½†å…¶å®wazæœ€è®¨åŒåšæ”»ç•¥</p>
                <p>zmxçŸ¥é“</p>
                <p class="highlight">äºæ˜¯zmxå˜æˆäº†æ”»ç•¥å®¶</p>
                <div style="display: flex; gap: 10px; overflow-x: auto; margin-top: 15px;">
                     <img src="0906db525444edbc626d3fbbfe320d91.jpeg" class="photo-frame long-photo" alt="æ”»ç•¥1">
                     <img src="d9e2f86b316d07d9b44c2c773d17c340.jpeg" class="photo-frame long-photo" alt="æ”»ç•¥2">
                </div>
            </div>
        </div>

        <div class="swiper-slide">
            <div class="card ani" data-ani="animate__fadeInUp">
                <div class="icon-box"><i class="fas fa-comments"></i></div>
                <p>è¿™ä¸€å¹´</p>
                <p>ä½ ä»¬æœ‰è¿‡ <span class="highlight">næ¬¡ deep talk</span></p>
                <p>æ¯ä¸€æ¬¡</p>
                <p>éƒ½åœ¨çˆ±çš„ä¸»æ—¨ä¸‹</p>
                <p class="highlight">ä¸æ–­åŒ…å®¹ã€æˆç†Ÿ</p>
            </div>
        </div>

        <div class="swiper-slide">
            <div class="card ani" data-ani="animate__zoomIn">
                <p>è¿™ä¸€å¹´</p>
                <p>åªæ˜¯<span class="highlight">æœªæ¥è®¸å¤šå¹´</span>ä¸­çš„</p>
                <p>ç¬¬äºŒå¹´</p>
                <div style="margin-top: 40px;">
                    <i class="fas fa-heart fa-beat" style="color: red; font-size: 2rem;"></i>
                </div>
                <h2 style="margin-top: 20px; font-family: 'Times New Roman', serif;">HAPPY 2st Anniversary</h2>
            </div>
        </div>

        <div class="swiper-slide" id="slide-heart-gallery">
            <div id="heart-gallery-container">
                <div class="final-text ani" style="animation-delay: 0.5s;">
                    <p class="highlight" style="font-size: 1.5rem; background: rgba(255,255,255,0.8); padding: 5px 15px; border-radius: 20px;">è¿˜æœ‰æ— æ•°ä¸ªç¬é—´...</p>
                    <p style="font-size: 0.9rem; color: #666; margin-top:10px;">To be continued...</p>
                </div>
            </div>
        </div>

    </div>
    
    <img src="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDVMMTIgMTlNMTIgNUw2IDExTTEyIDVMMTggMTEiIHN0cm9rZT0iIzMzMyIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz48L3N2Zz4=" class="arrow-up" alt="Up">
</div>

<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

<script>
    /* =========================================
       çˆ±å¿ƒç…§ç‰‡å¢™é€»è¾‘
    ========================================= */

    const yourPhotos = [
        'IMG_8491.jpeg', 'IMG_8144.jpeg', 'IMG_6785.jpeg', 'IMG_7995.jpeg', 'IMG_7937.jpeg',
        'IMG_7669.jpeg', 'IMG_7599.jpeg', 'IMG_7461.jpeg', 'IMG_7419.jpeg', 'IMG_7391.jpeg',
        'IMG_7301.jpeg', 'IMG_6365.jpeg', 'IMG_7245.jpeg', 'IMG_7183.jpeg', 'IMG_7159.jpeg',
        'IMG_7142.jpeg', 'IMG_6296.jpeg', 'IMG_6283.jpeg', 'IMG_7116.jpeg', 'IMG_7109.jpeg',
        'IMG_6251.jpeg', 'IMG_6884.jpeg', 'IMG_6504.jpeg', 'IMG_6495.jpeg', 'IMG_5838.jpeg',
        'IMG_5796.jpeg', 'IMG_5621.jpeg', 'a8a9c09e91e2d4b976acdcf79e43f349.jpeg', 'IMG_5548.jpeg',
        'IMG_5518.jpeg', 'IMG_5509.jpeg', 'IMG_5077.jpeg', 'IMG_5017.jpeg', 'IMG_5014.jpeg',
        'IMG_4999.jpeg', 'IMG_4600.jpeg', 'IMG_4587.jpeg', 'IMG_4520.jpeg', 'IMG_4041.jpeg',
        'IMG_3641.jpeg', 'IMG_3213.jpeg', 'IMG_3050.jpeg', 'IMG_2793.jpeg', 'IMG_2712.jpeg',
        'IMG_2672.jpeg', 'IMG_2640.jpeg', 'IMG_2628.jpeg', 'IMG_2040.jpeg', 'IMG_2039.jpeg',
        'dji_export_20250117_photo_0006.jpeg', 'IMG_1936.jpeg', 'IMG_1914.jpeg', 'IMG_1887.jpeg',
        'IMG_1872.jpeg', 'IMG_1823.jpeg', 'IMG_1790.jpeg', 'IMG_1786.jpeg', 'IMG_1771.jpeg',
        'IMG_1767.jpeg', 'IMG_1685.jpeg', 'IMG_1655.jpeg', 'IMG_1633.jpeg', 'IMG_1555.jpeg',
        'IMG_1253.jpeg'
    ];

    const heartCoords = [
        {x: -30, y: -80}, {x: -70, y: -80}, {x: -110, y: -60}, {x: -140, y: -30},
        {x: 30, y: -80}, {x: 70, y: -80}, {x: 110, y: -60}, {x: 140, y: -30},
        {x: -150, y: 10}, {x: -130, y: 50}, {x: -100, y: 90}, {x: -60, y: 130},
        {x: 150, y: 10}, {x: 130, y: 50}, {x: 100, y: 90}, {x: 60, y: 130},
        {x: 0, y: 160}, {x: 0, y: -50}, {x: 0, y: 20},
        {x: -60, y: -30}, {x: -90, y: 0}, {x: -40, y: 30},
        {x: 60, y: -30}, {x: 90, y: 0}, {x: 40, y: 30},
        {x: -20, y: -100}, {x: 20, y: -100}, {x: -85, y: -100}, {x: 85, y: -100},
        {x: -125, y: -85}, {x: 125, y: -85}, {x: -30, y: 80}, {x: 30, y: 80},
        {x: 0, y: -115}
    ];

    /* =========================================
       èµ„æºé¢„åŠ è½½ä¸ Loading é€»è¾‘
    ========================================= */
    const mask = document.getElementById('loading-mask');
    const percentText = document.getElementById('percent');
    const progressInner = document.getElementById('progress-inner');
    const swiperContainer = document.querySelector('.swiper');

    // æ”¶é›†é¡µé¢ä¸Šæ‰€æœ‰çš„å›¾ç‰‡ï¼ˆimgæ ‡ç­¾ + heartGalleryé‡Œè¦ç”¨çš„å›¾ç‰‡ï¼‰
    let allImages = Array.from(document.images).map(img => img.src);
    // æŠŠç…§ç‰‡å¢™çš„å›¾ä¹ŸåŠ è¿›å»é¢„åŠ è½½
    allImages = allImages.concat(yourPhotos);
    // å»é‡
    allImages = [...new Set(allImages)];

    let loadedCount = 0;
    const totalCount = allImages.length;

    // å¼€å§‹åŠ è½½
    if (totalCount === 0) {
        hideLoading();
    } else {
        allImages.forEach(src => {
            const img = new Image();
            img.src = src;
            img.onload = img.onerror = () => {
                loadedCount++;
                const percent = Math.floor((loadedCount / totalCount) * 100);
                percentText.innerText = percent + '%';
                progressInner.style.width = percent + '%';
                
                if (loadedCount >= totalCount) {
                    setTimeout(hideLoading, 500); // ç¨å¾®åœé¡¿ä¸€ä¸‹
                }
            };
        });
    }

    function hideLoading() {
        mask.style.opacity = '0';
        swiperContainer.style.opacity = '1'; // æ˜¾ç¤ºå†…å®¹
        setTimeout(() => {
            mask.style.display = 'none';
            // åˆå§‹åŒ– Swiperï¼ˆç­‰åŠ è½½å®Œå†åˆå§‹åŒ–ï¼Œä½“éªŒæ›´å¥½ï¼‰
            initSwiper();
        }, 800);
    }

    /* =========================================
       Swiper åˆå§‹åŒ– (å°è£…æˆå‡½æ•°)
    ========================================= */
    var swiper;
    function initSwiper() {
        swiper = new Swiper(".mySwiper", {
            direction: "vertical",
            effect: "slide",
            speed: 600,
            threshold: 30, 
            mousewheel: {
                thresholdDelta: 70, 
                sensitivity: 1,
            },
            on: {
                init: function () {
                    playAnimation(this.slides[this.activeIndex]);
                    initHeartGallery(); 
                },
                slideChangeTransitionEnd: function () {
                    document.querySelectorAll('.ani').forEach(el => {
                        el.style.visibility = 'hidden';
                        el.classList.remove(el.dataset.ani);
                    });
                    const currentSlide = this.slides[this.activeIndex];
                    playAnimation(currentSlide);
                    if (currentSlide.id === 'slide-heart-gallery') {
                        animateHeartGallery();
                    }
                }
            },
        });
    }

    /* =========================================
       çˆ±å¿ƒç…§ç‰‡å¢™é€»è¾‘
    ========================================= */
    let heartGalleryCreated = false;
    let heartAnimationPlayed = false;

    function initHeartGallery() {
        const container = document.getElementById('heart-gallery-container');
        if (!container || heartGalleryCreated) return;

        heartCoords.forEach((coord, index) => {
            const img = document.createElement('img');
            const randomPhoto = yourPhotos[Math.floor(Math.random() * yourPhotos.length)];
            img.src = randomPhoto;
            img.className = 'heart-photo';
            img.dataset.targetX = coord.x;
            img.dataset.targetY = coord.y;
            img.dataset.rotate = Math.random() * 40 - 20; 
            container.appendChild(img);
        });
        heartGalleryCreated = true;
    }

    function animateHeartGallery() {
        if (heartAnimationPlayed) return;
        heartAnimationPlayed = true;

        const photos = document.querySelectorAll('.heart-photo');
        const finalText = document.querySelector('.final-text');
        let i = 0;

        const intervalId = setInterval(() => {
            if (i >= photos.length) {
                clearInterval(intervalId); 
                setTimeout(() => {
                    if(finalText) {
                        finalText.style.visibility = 'visible';
                        finalText.classList.add('animate__fadeIn'); 
                        finalText.classList.add('animate__animated');
                    }
                }, 1000);
                return;
            }
            const photo = photos[i];
            photo.classList.add('active'); 
            photo.style.transform = `translate(${photo.dataset.targetX}px, ${photo.dataset.targetY}px) scale(1) rotate(${photo.dataset.rotate}deg)`;
            i++;
        }, 100); 
    }

    function playAnimation(slide) {
        const aniItems = slide.querySelectorAll('.ani');
        aniItems.forEach((item, index) => {
            item.style.visibility = 'visible';
            item.classList.add('animate__animated');
            item.classList.add(item.dataset.ani);
            if (!item.style.animationDelay) {
                item.style.animationDelay = (index * 0.2) + 's';
            }
        });
    }
</script>

</body>
</html>